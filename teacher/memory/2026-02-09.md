# Memoria - 2026-02-09

## Decisioni chiave

- Lingua unica da `config.yaml` (`language`) per chat, documenti e commit.
- Corso separato in:
  - `teacher/course/course-plan.md` (piano didattico)
  - `teacher/course/course-progress.md` (progresso studente)
- Entrypoint agent:
  - `agents.md` -> `teacher/instructions/instructions.md`
- Struttura operativa:
  - memoria in `teacher/memory/`
  - prompt operativi in `teacher/prompt/` (backup note in `teacher/prompt/notes-backup.md`)
- Esercizi in `exercises/` con formato `exercises/<n>_<exerciseName>.asm`.
- Asset condivisi in `assets/` (`assets/sprites`, `assets/music`, `assets/charsets`).

## Regole tecniche da non perdere

- Nei file sotto `exercises/` usare path relativi:
  - `../lib/...`
  - `../assets/...`
- `config.yaml` locale non versionato; `config-template.yaml` versionato.
- Campi richiesti in `config.yaml`: `argument`, `language`, `notes_backup_path`.

## Apprendimenti didattici consolidati

- Stable raster: per fascia ampia e stabile conviene catena IRQ `arm/top/bottom` (non un loop lungo nello stesso IRQ).
- Timing loop `DEX/BNE`: costo cicli `5*N - 1`.
- Formula utile per stimare delay su PAL: `X = (R*63 - P + 1) / 5` (`R`=righe, `P`=cicli gia' spesi, 63 cicli per scanline PAL).
- Limite pratico: con `X` a 8 bit non copri fasce molto alte; in quel caso servono IRQ multipli o doppio loop.
- Diagnosi visiva importante: se il cambio colore arriva tardi nella riga, l'effetto appare soprattutto a destra e puo' sembrare "instabile".
